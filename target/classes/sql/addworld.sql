CREATE TABLE IF NOT EXISTS `addworld`.`ADDWORLD_AGENCY` (
	`AGENCY_ID` INT NOT NULL AUTO_INCREMENT,
	`NAME` VARCHAR(100) NULL,
	`ADDRESS` VARCHAR(200) NULL,
	`CITY` VARCHAR(45) NULL,
	`STATE` VARCHAR(45) NULL,
	`POSTAL_CODE` VARCHAR(45) NULL,
	PRIMARY KEY (`AGENCY_ID`),
	UNIQUE INDEX `AGENCY_ID_UNIQUE` (`AGENCY_ID` ASC));

SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS; 
SET FOREIGN_KEY_CHECKS=0; 

CREATE TABLE IF NOT EXISTS `addworld`.`ADDWORLD_PROJECT` (
	`PROJECT_ID` INT NOT NULL AUTO_INCREMENT,
	`NAME` VARCHAR(100) NULL,
	`STATUS` VARCHAR(45) NULL,
	`TEAM_ID` INT NULL,
	PRIMARY KEY (`PROJECT_ID`),
	INDEX `TEAM_ID_FK_idx` (`TEAM_ID` ASC),
	CONSTRAINT `TEAM_ID_FK`
	FOREIGN KEY (`TEAM_ID`)
	REFERENCES `mydb`.`ADDWORLD_TEAM` (`TEAM_ID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION);

CREATE TABLE IF NOT EXISTS `addworld`.`ADDWORLD_TEAM` (
	`TEAM_ID` INT NOT NULL AUTO_INCREMENT,
	`NAME` VARCHAR(100) NULL,
	`PROJECT_ID` INT NULL,
	`MANAGER_ID` INT NOT NULL,
	PRIMARY KEY (`TEAM_ID`),
	INDEX `PROJECT_ID_FK_idx` (`PROJECT_ID` ASC),
	CONSTRAINT `PROJECT_ID_FK`
	FOREIGN KEY (`PROJECT_ID`)
	REFERENCES `mydb`.`ADDWORLD_PROJECT` (`PROJECT_ID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION);

SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;

CREATE TABLE IF NOT EXISTS `addworld`.`ADDWORLD_EMPLOYEE` (
	`EMPLOYEE_ID` INT NOT NULL AUTO_INCREMENT,
	`NAME` VARCHAR(100) NULL,
	`ADDRESS` VARCHAR(100) NULL,
	`MANAGER_ID` INT NULL,
	`AGENCY_ID` INT NULL,
	`TEAM_ID` INT NULL,
	PRIMARY KEY (`EMPLOYEE_ID`),
	INDEX `AGENCY_ID_FK2_idx` (`AGENCY_ID` ASC),
	INDEX `TEAM_ID_FK2_idx` (`TEAM_ID` ASC),
	CONSTRAINT `AGENCY_ID_FK2`
		FOREIGN KEY (`AGENCY_ID`)
		REFERENCES `addworld`.`ADDWORLD_AGENCY` (`AGENCY_ID`)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
	CONSTRAINT `TEAM_ID_FK2`
		FOREIGN KEY (`TEAM_ID`)
		REFERENCES `addworld`.`ADDWORLD_TEAM` (`TEAM_ID`)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION);
